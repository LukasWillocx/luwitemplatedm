% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/theme_darkmode.R
\name{use_dark_mode}
\alias{use_dark_mode}
\title{Enable Dark Mode Toggling in Shiny}
\usage{
use_dark_mode(input, session, input_id = "dark_mode")
}
\arguments{
\item{input}{The Shiny \code{input} object}

\item{session}{The Shiny \code{session} object (kept for API compatibility,
not actively used)}

\item{input_id}{Character. The ID of the \code{bslib::input_dark_mode()}
widget in your UI. Default is \code{"dark_mode"}.}
}
\value{
A list with two reactive elements:
\describe{
\item{\code{mode}}{Reactive returning \code{"dark"} or \code{"light"}}
\item{\code{theme}}{Reactive returning the corresponding
\code{bslib::bs_theme()} object from \code{\link{my_theme}}}
}
}
\description{
Wires up reactive theme switching for dark mode. Call this once in your
Shiny server to get a reactive theme that tracks the toggle state.
Bootstrap components are styled via CSS custom property overrides injected
by \code{\link{my_theme}} â€” no full theme swap occurs on toggle.
}
\details{
The light theme is compiled at initialization. The dark theme is compiled
lazily on first toggle to avoid unnecessary startup cost. Bootstrap
components switch instantly via CSS custom property overrides (no
\code{session$setCurrentTheme()} call). Pass \code{dm$theme()} to plot
functions to make them reactive to the toggle.
}
\section{UI Setup}{

Your UI must include \code{bslib::input_dark_mode(id = "dark_mode")}
(or a matching \code{input_id}). Place it in your navbar, sidebar,
or wherever makes sense for your layout.
}

\examples{
\dontrun{
library(shiny)
library(bslib)
library(ggplot2)

ui <- page_sidebar(
  theme = my_theme(),
  title = "Dark Mode Demo",
  sidebar = sidebar(
    input_dark_mode(id = "dark_mode")
  ),
  card(
    card_header("Branded Plot"),
    plotOutput("plot")
  )
)

server <- function(input, output, session) {
  dm <- use_dark_mode(input, session)

  output$plot <- renderPlot({
    ggplot(mtcars, aes(mpg, wt, color = factor(cyl))) +
      geom_point(size = 3) +
      scale_color_luwi_d() +
      theme_luwi(theme = dm$theme())
  })
}

shinyApp(ui, server)
}

}
\seealso{
\code{\link{my_theme}} for the underlying theme constructor,
\code{\link[bslib]{input_dark_mode}} for the toggle widget

Other theme-generators: 
\code{\link{my_theme}()}
}
\concept{theme-generators}
